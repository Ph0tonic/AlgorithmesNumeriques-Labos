<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Labo 3 - Algo num</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css" >
</head>
<body>
<body>
  <div class="container">﻿
    <div class="page-header">
      <h1>2231.3 - Algorithme numérique : Laboratoire n°3</h1>
	  <i>Groupe B1</i>
      <p>Auteurs :</p>
      <ul>
        <li>Raphael Margueron</li>
        <li>Damian Petroff</li>
        <li>Bastien Wermeille</li>
      </ul>
    </div>
    <div class="row">
      <div class="col-md-12 col-sm-12">
        <h2>Utilisation</h2>
        <p>2 possibilités de chargement du fichier. Première, utilisation du drag and drop du fichier à lire dans la zone prévue à cette effet.
          Second option, copier directement le contenu du fichier dans la zone prévue à cet effet.
          Nous avons implémenter une 3ème solution mais celle-ci ne fonctionne pas avec tous les navigateurs à cause de restrictions de ceux-ci.
          Cette méthode permet de sélectionner directement le fichier JSON à charger à gauche de zone de drag and drop, cliquer sur le nom du fcihier à charger.
          Chrome et Safari ne permettent pas d'utiliser cette solution.
        </p>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-md-8 col-sm-12">
        <textarea id="holder">Drag your file HERE!</textarea>
        <button id="solve" class="btn btn-primary">Calculer</button>
        <div id="chronotime"></div>
      </div>
      <div class="col-md-4 col-sm-12">
        <h2>Charger un fichier</h2>
        <p>Cliquez sur le fichier voulu, attention fonctionnalité disponible uniquement avec Firefox et Edge.</p>
        <ul id="files">
          <li>matrice_0x0.json</li>
          <li>matrice_2x2.json</li>
          <li>matrice_3x3.json</li>
          <li>matrice_50x50.json</li>
          <li>matrice_250x250.json</li>
          <li>matrice_300x300.json</li>
          <li>matrice_avecPB_0x0.json</li>
          <li>matrice_avecPB_3x3_avec_A_a_0.json</li>
          <li>matrice_avecPB_3x3_avec_SwapObligatoire.json</li>
        </ul>
      </div>
      <div class="col-md-12 col-sm-12">
        <h2>Résultats</h2>
        <div id="result"></div>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-md-12">
    	   <h1>Rapport</h1>
         <h2>Contextualisation</h2>
         <p>Le but de ce labo est la résolution d'un système d'équations linéaires avec la méthode de Gauss. L'utilisateur à la possibilité de choisir un fichier ou de directement entrer une matrice dans la zone prévu à cet effet au format JSON.</p>
         <p>La matrice devra cependant être carrée et valide. Notre algorithme ne permet pas de trouver des solutions non constantes ou une infinité de solutions. Si un tel cas se présente, un message d'erreur est affiché.</p>
         <p>Notre programme permet de visualiser les résultats trouvés s'ils sont de nature constant.</p>
         <h2>Méthodologie de développement</h2>
         <div>
            <p>
                Notre avons séparé le chargement du système d'équations linéaires et la résolution de l'équation en deux classes : Matrix et Solver.
            </p>
            <h3>Système d'équations linéaires (Matrix)</h3>
            <p>
                Les systèmes d'équations linéaires sont représentés de la manière suivante : AX = B
            </p>
            <p>
                Les équations linéaires nous sont données sous la forme de fichiers JSON.
                Les trois attributs suivants sont chargés et doivent être présents dans le fichier JSON.
            </p>
            <ul>
                <li>n : Correspond à la taille du vecteur X et B ainsi qu'aux dimensions de la matrice A</li>
                <li>A : Correspond à la matrice A</li>
                <li>B : Correspond au vecteur B</li>
            </ul>
            <p>
                Les valeurs des trois attributs doivent être sous la forme d'un tableau 1D dans le fichier JSON.
                Quand nous chargeons le système d'équations linéaires, nous importons la matrice A dans un tableau 2D et nous ajoutons à cette matrice A une nouvelle colonne contenant le vecteur B (à la fin de chaque ligne du tableau 2D, on ajoute la valeur de la matrice B du même numéro de ligne). Cela nous permet de n'avoir qu'un "grand" tableau 2D. Qui est de taille N x (N+1). => Principe de la matrice augementé (Augmented matrix).
            </p>
            <p>
                Une fois la matrice chargée, il est possible d'effectuer les opérations de matrice suivante :
                <ul>
                    <li>swapRows(i, j) :</li>
                    <p>
                        Echange les deux lignes des indices passés en paramètre
                    </p>
                    <li>indiceMaxColumn(iColumn, iRowStart=0) :</li>
                    <p>
                         Retourne l'indice de ligne où la valeur est maximale pour l'indice de la colonne spécifiée (il est possible de passer un indice pour la chercher à partir d'une ligne spécifique)
                    </p>
                    <li>substractLineFactor(iRowRef, iRowSub, factor, iColumnStart=0) :</li>
                    <p>
                        Soustrait la ligne de référence (ligne d'indice iRowRef) par la ligne de soustraction (ligne d'indice iRowSub) multipliée par un facteur (factor).
                        Il est également possible de passer un numéro de colonne à partir duquel on commence l'opération (optimisation).
                    </p>
                </ul>
            </p>
            </div>
            <h3>Solutionneur (Solver)</h3>
            <div>
                <p>
                    Cette classe possède uniquement un attribut qui stockera le vecteur de solutions une fois la fonction de résolutions appelées.
                </p>
                Voici la liste des fonctions de la classe :
                <p>
                    <ul>
                        <li>gaussTransform(matrix) :</li>
                        <p>
                            Réalise une transformation gaussienne de la matrice.
                            <span style='color :red'>TODO : Il faut encore que je comprenne ce code shamanesque, je fais ça d'ici lundi. RMA.</span>
                        </p>
                        <li>resolveX(matrix)</li>
                        <p>
                            Va parcourir la matrice triangulaire (droite à gauche puis de bas en haut) pour résoudre le système d'équations (générer le vecteur X de la classe).
                        </p>
                        <li>displayX()</li>
                        <p>
                            Affiche le vecteur de solution (l'attribut x de classe) dans la balise HTML prévu à cet effet.
                            Affiche également des messages d'erreur en cas d'impossibilité de trouver des solutions.
                        </p>
                        <li>solve(matrix) :</li>
                        <p>
                             Reçois une référence sur l'object Matrix, chronomètre le temps pour : effectuer la transformation de gausss (gaussTransform) et résoudre le système (resolveX).
                             Finalement une fois l'équation résolu, affiche le résultat (displayX, cette opération n'est pas chronométrée).
                             Cette fonction est la fonction principale de la classe.
                        </p>
                    </ul>
                <p>
            </div>
            <h3>Interface</h3>
            <span style='color :red'>On va un peu parler de l'interface cette fois vu qu'on a un truc assez insane. Mais je pense qu'on peut améliorer le truc je repasserai plus tard. RMA.</span>
            <p>

            </p>
            <h2>Tests</h2>
         <p>Nous avons testé notre code avec toutes les matrices mises à notre disposition par notre responsable. Tous les tests effectués ont été concluants!</p>
         <h2>Conclusion et perspective</h2>
         <p>Nous sommes satisfaits de notre résultat, notre code permet de résoudre une matrice de 300x300 en 16ms avec Firefox Quantum 59.0.2 (64 bits).</p>
         <p>Finalement, en ce qui concerne les perspectives, il serait intéressant de pouvoir ...</p>
       </div>
    </div>
  	<hr>
    <footer>
  	   <h2>Références de développement</h2>
  		 <ul class="a-autoFill">
        <li><a href="https://stackoverflow.com/questions/11313414/html5-drag-and-drop-load-text-file-in-a-textbox-with-javascript"></a></li>
        <li><a href="https://en.wikipedia.org/wiki/Gaussian_elimination#Pseudocode"></a></li>
        <li><a href="http://html5demos.com/file-api"></a></li>
        <li><a href="https://developer.chrome.com/apps/xhr"></a></li>
      </ul>
    </footer>
  </div>
    <script src="script.js"></script>
</body>
</html>
